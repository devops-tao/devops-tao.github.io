<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Linux常用命令及相关参数]]></title>
    <url>%2F2017%2F12%2F21%2FLinux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%2F</url>
    <content type="text"><![CDATA[线上查询及帮助命令man适用于一般命令，查看非内置命令的帮助。 --help适用于一般命令，查看非内置命令的帮助。 help适用于内置命令，查看内置命令的帮助。 文件和目录操作命令lslist(列表) 列表目录或文件-l(long) 长格式-d(directorys) 查看目录-p 给目录结尾加斜线（/）-F 给不同目录结尾加不同标识-a(all) 显示所有文件（包括隐藏文件）-t 按修改时间排序-r 反转排序，倒序-i 查看inode节点-h 人类可读--color=auto 显示颜色--time-style=long-iso 格式化时间 例子： 列根(/) 目录下的文件或目录–&gt;ls / cdchange directorys 改变目录路径 例子：cd /etc cpcopy 拷贝文件或目录，默认不能拷贝目录-r(recursive) 递归，用于复制目录-p 连同档案的文件属性一起复制过去，而非使用默认属性-d 若源文件为链接文件（link file），则复制链接文件属性而非档案属性-a 相当于-pdr，复制文件保持文件所有属性 例子:cp /etc/ssh/sshd_config{,.ori} 等价于 cp /etc/ssh/sshd_config /etc/ssh/sshd_config.ori find查找-type 文件类型（f(file),d(directory),c(character),b(block)，s(socket),l(link)）-name “文件名” 按文件名称查找文件！ 取反-maxdepth 查找深度-mtime 时间 按修改时间查找，时间数字（+7 七天之前，7 第七天，－7 最近七天） mkdir make directorys 创建目录-p 递归创建目录，一般第一级目录不存在时用-P，否则报错 例子：在根（/）下创建data目录–&gt;mkdir /data mvmove 移动或重命名文件 pwdprint work directory 打印工作目录（显示当前所在路径） renameRename files 重命名文件 例子: rmremove 删除文件和目录-r(recursive) 递归删除目录及其内容-f（force） 强制 touch创建或更新文件的时间戳，如果文件不存在，就建立新文件，如果存在，就改变文件的访问时间atime等事件戳信息。 tree大树的意思，显示目录树-L（layer） 层数-d 显示目录 basename 例子: dirname跟basename相反 例子: chattr改变文件的扩展属性a 只能追加内容i 文件加锁 lsattr显示文件的扩展属性 file查看文件的类型 md5sum计算和校验文件的md5值 查看文件及内容处理命令cat查看文件内容-n 显示行号-b 显示非空行的行号-E 在每一行末尾显示$号-T 区分tab键和空格 tac反向显示文件内容 more按页一次一屏显示，回车一次一行，空格一次一屏，按b可以一次回退一屏。-= 显示光标所在行行号 less分页查看文件内容，回车一次一行，空格一次一屏，按b可以一次回退一屏。-N 显示行号 head头，头部 读取文件的前n行，默认前十行 例子： head -2 test.txt tail尾，尾巴 读取文件的后n行，默认最后十行 例子： tail -2 test.txt cut切割 取列-d分隔符-f取列 例子： split按照指定的行数或大小分割文件-l 指定行数例子：split -l 10 /etc/inittab new_ -a 指定生成文件后缀长度 例子：split -l 10 -a 3 /etc/inittab new1_ -d 使用数字后缀 例子：split -l 10 -d /etc/inittab new_ -b 指定分割大小 例子split -b 200K /etc/inittab paste合并两个文件内容-d 指定分隔符 例子：paste -d : a b sort默认按照第一列、ASCII码排序，升序， 从小到大-n 按照数值排序-r 倒序，从大到小-k 指定区域-t 指定分隔符例子： sort –t: -k2 oldboy.txt uniq去除重复行 wc统计文件行数 单词数 字节数-l(lines) 显示总行数-L 显示最大行的长度 iconv转换文件的编码格式 dos2unix把windows文件格式转换成linux的文件格式windows的换行符是：\r\nlinux的换行符：\n diff逐行比较文件和目录内的文件不同a 增加c 改变d 删除 vimdiff可视化对比工具 rev反向输出文件内容 grep/egrepLinux三剑客老三……过滤需要的内容-v 后接要排除的内容 例子：grep oldboy test.txt -A 除了显示匹配的一行之外，并显示该行的后num行-B 除了显示匹配的一行之外，并显示该行的前num行-C 除了显示匹配的一行之外，并显示该行的前后num行--color=auto 对过滤的字符串加颜色-E 扩展的grep，即egrep-n 对匹配的内容打印行号-i 不区分大小写-o 按单词搜索，相当于\b join按两个文件的相同字段合并 trtranslate or delete characters(替换或删除字符) 例子： vi/vim命令行文本编辑器 文件压缩及解压缩命令tar打包压缩（z c v f j x X N p P C --exclude） unzip解压文件 gzipgzip压缩工具 zip压缩工具 信息显示命令uname显示操作系统相关的命令 hostname显示或者设置当前系统的主机名 dmesg显示开机信息，可以查看系统故障信息 uptime显示系统运行时间及负载 stat显示文件和文件系统状态（查看文件属性） du查看文件和目录大小-sh df查看磁盘信息–I–h–T 文件类型 top实时显示系统资源使用情况 free查看系统内存 date显示与设置系统时间-d 显示字符串所指的日期与时间。字符串前后必须加上双引号-s 根据字符串来设置日期与时间。字符串前后必须加上双引号%Y 表示年%m 表示月%d 表示天%H 表示小时（表示的时间是00-23）%M 表示分钟%S 表示秒%s（表示unix时间戳的秒数）例子：[root@zht ~]# date +’%Y-%m-%d %H:%M:%S’2017-12-21 22:16:12 cal查看日历等时间信息 搜索文件命令which查看二进制命令所在路径（从PATH变量所在的路径查找） find从磁盘遍历查找文件或目录-type 文件类型（f(file),d(directory),c(character),b(block)，s(socket),l(link)）-name “文件名” 按文件名称查找文件！ 取反-maxdepth 查找深度-mtime 时间 按修改时间查找，时间数字（+7 七天之前，7 第七天，－7 最近七天） whereis查看命令的帮助、源代码-b 二进制 locate通过名字查找文件这个命令只能查updatedb库里内容，locate从/var/lib/mlocate/mlocate.db查找路径 用户管理命令useradd添加用户用法：useradd 用户名-s 指定用户登入后所使用的shell (-s /sbin/nologin)–u 指定uid-c 注释-d (指定家目录)-G 指定属于多个组-m 创建家目录-g 指定属于的组–e 指定过期时间-M 不创建家目录 usermod更改用户属性 userdel删除用户-r 删除家目录 groupadd添加组-g 组id groupdel删除组 passwd为用户设置或修改密码--stdin 非交互式更改密码例子：echo “123456”|passwd –stdin oldboy chage设置或修改用户密码有效期限-l(list)列表-E将用户过期时间设置为“过期日期” id查看用户和组信息 su切换用户身份 加载环境变量-c 以指定用户切换身份visudo通过visudo编辑/etc/sudoers，可以检查语法sudo可以让普通用户拥有root权限去执行命令sudo的配置文件为/etc/sudoers基础网络操作命令telnet使用TELNET协议远程登陆ssh使用SSH加密协议远程登陆scp远程拷贝文件或目录的命令 -P (port) 接端口，默认22端口时可以省略-P22 -r 递归，表示拷贝目录 -p 表示再拷贝前后保持文件或目录的属性 -l (limit) 限制速度 wget命令行下载命令-q 安静的-O 指定文件名ping测试主机之间网络的连通性（使用ICMP协议，是TCP/IP协议族的一个子协议）route显示和设置linux系统的路由表ifconfig查看、配置、启用或禁用网落接口的命令ifup启动网卡ifdown关闭网卡netstat查看网络状态-lntup-a查看所有例子: ss查看网络状态 深入网络操作命令nmap网络扫描命令 lsoflist open files 列举操作系统中已经被打开的文件 例子： mail发送和接收邮件 mutt邮件管理命令 nslookup交互式查询互联网DNS服务器的命令 dig查找DNS解析过程 host查询DNS命令 traceroute追踪数据传输路由状况 tcpdum命令行的抓包工具 有关磁盘和文件系统的命令mount挂载文件系统-t type–o umount卸载文件系统-lF 强制卸载 fsck检查并修复linux文件系统 dd转换和拷贝文件（convert and copy a file） dumpe2fs查看ext文件系统信息 dumpext文件系统备份工具 fdisk 磁盘分区工具（&lt;2T）-l 列表 parted分区工具（常用大于2T） mkfs格式化-b block–I inode用法：mkfs.ext4等价于mkfs –t ext4 partprobe让分区表的修改变化通知内核 e2fsck检查ext类型文件系统 mkswap格式化swap分区 swapon启用交换分区 swapoff关闭交换分区 sync将内存缓冲区内容的数据写入磁盘 resize2fs调整ext类型文件系统大小 系统权限及用户授权相关命令chmod更改及设置文件对应权限 chown更改及设置文件对应的用户和组 chgrp更改文件用户组 umask控制文件默认权限默认情况下的umask值是022(可以用umask命令查看），此时建立的文件默认权限是644(6-0,6-2,6-2)，建立的目录的默认权限是755(7-0,7-2,7-2) ###查看系统用户登录信息的命令 whoami显示当前有效的用户名称，相当于执行id -un命令 who显示目前登陆系统的用户信息 w显示已经登陆系统的用户列表，并显示用户正在执行的指令 last显示用户登陆的历史 lastlog所有计算机用户最近的登陆情况 finger查找并显示用户信息 内置命令及其他echo是一个打印输出内容的一个常用命令，配合“&gt;”或“&gt;&gt;”可以为文件覆盖或追加内容。-n 不换行输出-e 可用转义字符（\n 回车， \t， Tab键）“&gt;”意思为重定向，会清楚文件里所有以前数据，“&gt;&gt;”为内容追加，只在文件尾部追加需要的内容，还有一个比较复杂不常用的类似命令printf. printf将结果格式化输出到标准输出 rpm管理rpm包的命令-q query-a all-f file查询一个命令属于哪个包[root@m01 ~]# rpm -qf /bin/lscoreutils-8.4-43.el6.x86_64知识点：-q or -query-f, --file query/verify package(s) owning file[root@m01 ~]# rpm -qa coreutilscoreutils-8.4-43.el6.x86_64知识点：-a, --all query/verify all packages卸载：rpm –e –nodeps 包名-e, --erase=+ erase (uninstall) package--nodeps don’t verify package dependencies--force short hand for --replacepkgs –replacefiles 安装：rpm -ivh 包名升级：rpm -Uvh 包名-i, --install install package(s)-h, --hash print hash marks as package installs (good with -v)-v, --verbose provide more detailed output-U, --upgrade=+ upgrade package(s)查看包里有哪些文件[root@m01 ~]# rpm -ql tree/usr/bin/tree/usr/share/doc/tree-1.5.3/usr/share/doc/tree-1.5.3/LICENSE/usr/share/doc/tree-1.5.3/README/usr/share/man/man1/tree.1.gz知识点：-l, --list list files in package yum自动化简单化地管理rpm包的命令 watch周期性执行程序，打印到目录，默认2秒-n 制定秒 alias查看和设置别名设置别名： alias cp=’cp -i’ unalias取消已有别名 例子：unalias mv–&gt; 取消mv别名 clear清屏，相当于快捷键Ctrl+l history查看及清理历史记录 -c 清空所有 -d 删除指定历史记录 eject弹出光驱 time计算命令执行时间 nc功能强大的网络工具 nl 显示行号 （number lines） xargs从标准输入（管道过stdin、输入重定向）获取数据，并将数据转换成命令行的参数-n 数字 分组 例子： exec调用并执行指定的命令 unset删除变量或函数 export设置或显示环境变量 type用于判断另外一个命令是否是内置命令 bc命令行科学计算器 rsync文件复制工具-v --verbose 详细模式输出，传输时的进度等信息-z --compress 传输时进行压缩以提高传输效率--compress-level=NUM 可按级别压缩-a --archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rtopgDl-r --recursive 对子目录以递归模式，即目录下的所有目录都同样输出，注意是小写r-t --times 保持文件时间信息-o --owner 保持文件属主信息-p --perms 保持文件权限-g --group 保持文件属组信息-P --progress 显示同步的过程及传输时的进度等信息-D --devices 保持设备文件信息-l --links 保持软连接-e --rsh=COMMAND 使用的信道协议，指定替代rsh的shell程序。例如：ssh--exclude=PATTERN 指定排除不需要传输的文件模式（和tar参数一样）--exclude-from=file（文件名所在的目录文件）（和tar参数一样）--bwlimit=RATE limit socket I/O bandwidth--delete 让目标目录SRC和源目录数据DST一致 系统管理与性能监视命令chkconfig设置开机自启动的命令--list 查看自启动服务--level levels 例子：chkconfig –level levels sshd off(on) levels：运行级别 chkconfig –list 显示所有服务 chkconfig –list sshd 查看指定服务是否开机自启动。 vmstat虚拟内存统计 mpstat显示各个可用CPU的状态 iostat统计系统IO sar全面地获取系统的CPU、运行队列、磁盘I/O、分页（交换区）、内存、CPU中断和网络等性能数据 ipcs用于报告Linux中进程间通信设施的状态，显示的信息包括消息列表、共享内存和信号量的信息 ipcrm用来删除一个或更多的消息队列、信号量集或者共享内存标识 strace用于诊断、调试Linux用户空间追踪器。我们用它来监控用户空间进程和内核的交互，比如系统调用、信号传递、进程状态变更等。 ltrace命令会跟踪进程的库函数调用，它会显示出那个库函数被调用 关机/重启/注销和查看系统信息的命令shutdown关机 halt关机 poweroff关闭电源 logout退出当前登陆的shell，相当于快捷键Ctrl+d exit退出当前登陆的shell，相当于快捷键Ctrl+d 进程管理相关命令bg讲一个在后台暂停的命令，变成继续执行（在后台执行） fg将后台中的命令调至前台继续运行 jobs查看当前有多少在后天运行的命令 kill终止进程 killall通过进程名终止进程 pkill通过进程名终止进程 crontab定时任务命令。维护用户的crontab配置文件。-e（edit）-l（list）-r（erase） 如：xufqin用户创建一个新的crontab配置文件。$ crontab –e at设置指定时间执行的指定的命令。（只执行一次）–f 文件名（file）-l（list）-d（delete） 例子：在3分钟后向文件/tmp/test/test.txt写入信息“Hello”。$at now + 3 minutesat&gt;echo “Hello” &gt;&gt; /tmp/test.txt然后按Ctrl+D保存 ps显示进程的状态。无选项时显示当前用户在当前终端启动的进程-a（all）-e-l（list）-u（user）-x-t-f pstree树形显示进程 nice指定将启动的进程的优先级。不指定优先级值时，将优先级设置为10 例子：#nice -5 ftp启动ftp程序，其优先级为5 renice修改运行中的进程的优先级，设定指定用户或组群的进程优先级-p 进程号-u 用户名-g 组群号 例子：将xufqin用户的进程优先级调高为-5。 #renice -5 -u xufqin nohup忽略挂起信号运行指定的命令 pgrep查找匹配条件的进程 runlevel查看当前系统的运行级别 init切换运行级别，后接数字（0-6） service启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。]]></content>
      <categories>
        <category>Linux学习笔记</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS6.8最小化安装]]></title>
    <url>%2F2017%2F12%2F08%2FCentOS6.8%E6%9C%80%E5%B0%8F%E5%8C%96%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[安装CentOS6.8操作系统的过程加载完CentOS6.8的ISO镜像文件后，开启/重启计算机或虚拟机，此时系统会进行自检，自检完毕后就会出现如下图所示的安装操作系统时的引导界面。 提示：如果是在虚拟机上安装CentOS系统，需要进入虚拟机界面操作，如果需要退出虚拟机界面，可按快捷组合键Ctrl+Alt。 选择系统引导方式在图1-1所示的引导界面中，可以看到共有五种引导方式，其中第一种（新服务器安装或已有服务器升级）和第三种（系统故障恢复）引导方式比较有用，其他几个选择基本用途不大，可以忽略。此处选择第一项“Install or upgrade an existing system”，即默认选项，然后按Enter（回车）键进入图形安装界面。 检查安装光盘介质确定引导方式后，进入如图1-2所示的界面，如果需要检查光盘介质，选择“OK”，否则按Tab键选择“Skip”，这里直接按Tab选择“Skip”，然后按Enter键 继续 进入安装下一步界面忽略光盘介质检查后，进入如图1-3所示的界面。然后单击“NEXT”键继续。 安装过程语言选择进入如图1-4所示的界面后，可对安装过程语言进行选择，这里保留默认选项“English”即可，然后单机“Next”继续。 选择键盘布局进入如图1-5所示的选择键盘布局界面后，选择保留默认选项“U.S.English”，单击“NEXT”继续 选择合理的物理设备进入如图1-6所示的界面后，会看到两个选项，如果是普通服务器，默认选择第一个“Basic Storage Devices”即可，第二个是用于特殊存储设备的，例如SANs（ISCSI）等。这里保留默认选项即可，然后单击“NEXT”继续。 初始化硬盘提示进入如图1-7所示的界面后，会看到相应的警告信息，单击 “Yes,discard any data” 继续。 初始化主机名现在进入如图1-8界面，在图1-8中，左上角的“Hostname”表示配置主机名，在右边的边框里，会有默认的主机名，将其清空，然后设置你自己的主机名，这里用zht作为主机名。 系统时钟及时区设置在图1-9所示的界面中，选择“Asia/Shanghai”，然后取消“System clock uses UTC” 前的对勾，然后单击”Next”继续。 设置超级用户root口令在如图1-10界面中，输入两次root用户的口令，然后单击右下角“Next”继续。如果密码过于简单会出现如图1-11所示的提示，可以选择单击“Use Anyway”强制设置。 磁盘分区选择与磁盘分区配置过程选择系统安装磁盘空间类型经过以上步骤之后，会进入如图2-1所示的界面。在这里我们选择“Create Custom Layout”自定义磁盘分区，然后会进入如图2-2所示的界面中。 自行定制磁盘分区在这里，先选中磁盘下的“Free 10236”这一行，然后点击“Create”按钮，开始创建磁盘分区，进入如图2-3所示的界面选择创建标准分区（Standard Partition）后，单击页面右下角的“Create”按钮，进入到如图2-4所示的界面，然后按照图2-4所示配置第一个分区（boot分区）即可，配置完成后点击“OK”即可。接着继续创建swap交换分区，配置如图2-5界面所示即可，然后点击“OK”最后一步创建根（/）分区，再次进入“Add Partition”操作界面后，按照图2-6配置根（/）分区的设置即可。 由于根（/）分区是最后一个分区，因此就把剩余的空间都给它了 ! 创建完根分区后，最终的结果如图2-7所示，然后点击“Next”继续。此时，系统需要对分区进行格式化，而且会出现格式化警告窗口，这时，单击“Format（格式化）” 继续即可，这个过程可能还会提示写入分区表，在写入配置但磁盘的窗口中，单机“write changes to disk”继续。 CentOS6.8系统安装包组的选择与配置过程启动引导设备的配置分区格式化格式化后，会进入如图2-8所示的界面，系统默认使用FRUB作为启动加载器，引导程序默认在MBR下，按“Next”继续。 勾选图中的“Use a boot loader password”可为GRUB引导菜单设置密码，防止别人接触到计算机破解root密码。 系统安装类型选择击自定义额外包组进入图2-9所示的界面后，勾选“Miniml”和“Customize now（立即自定义）”然后单击“Next”继续即可，然后会进入自定义安装包选择界面。在自定义安装包选择界面中，按照图2-10和图2-11所示配置即可。然后点击“Next”继续即可开始安装系统了！ 安装结束系统安装结束后，出现的界面如图2-12所示，此时单击“Reboot”键即可重启系统。 以上内容参考自著名讲师老男孩的著作《跟老男孩学Linux运维web集群实战》一书！！]]></content>
      <categories>
        <category>Linux学习笔记</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
